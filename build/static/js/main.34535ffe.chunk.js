(this["webpackJsonpreact-redux-setup"]=this["webpackJsonpreact-redux-setup"]||[]).push([[0],{107:function(e,t,c){"use strict";c.r(t);c(57),c(58);var n=c(0),a=c.n(n),r=c(14),o=c.n(r),s=c(11),i=(c(89),c(42)),d=c(56),u=c(8),l=c(27),j=c(110),b=c(48),O=c.n(b),h=c(30),f=c(3),x=c(9),y="redux/actions/GET_CASES",p="redux/actions/GET_COUNTRY_DATA",v="redux/actions/SET_SEARCH_QUERY",m="redux/actions/CHANGE_DATE",g="redux/actions/TOGGLE_BACK_BUTTON",C=new Date,D=function(e,t){return String(e).padStart(t,"0")},T="".concat(C.getFullYear(),"-").concat(D(C.getMonth()+1,2),"-").concat(D(C.getDate(),2)),_=function(e){return"".concat(e.getFullYear(),"-").concat(D(e.getMonth()+1,2),"-").concat(D(e.getDate(),2))},k=function(){return{type:g}},S=function(e){return{type:m,payload:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return function(t){return fetch("https://api.covid19tracking.narrativa.com/api/".concat(e)).then((function(e){return e.json()})).then((function(c){return t(S(e)),t({type:y,payload:c})}))}},E={dates:{},total:{},countryData:{dates:Object(x.a)({},T,{countries:{name:"",source:"",today_confirmed:0,today_deaths:0,today_recovered:0}})},searchQuery:"",currentDate:new Date,backButton:!1},I=c(2);function B(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e}));return function(e,t){if(!Object.keys(e).length||!e)return[];var c=Object.values(Object.values(Object.values(e)[0])[0]);return t&&""!==t?c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):c}(t.dates,t.searchQuery).map((function(t){var c=t;return Object(I.jsx)(l.b,{to:"details/".concat(c.id),onClick:function(){return e(k())},className:"dataList","data-testid":"data-item",children:Object(I.jsx)(h.a,{style:{height:"124px",width:"187px"},children:Object(I.jsxs)(h.a.Body,{children:[Object(I.jsx)(h.a.Title,{children:c.name}),Object(I.jsxs)(h.a.Subtitle,{children:["Confirmed Today: ",c.today_confirmed]})]})})},c.id)}))}var N=c(111);function A(){var e=Object(s.c)((function(e){return e})).searchQuery,t=Object(s.b)();return Object(I.jsx)(N.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)(N.a.Group,{controlId:"formSearchCountry",children:Object(I.jsx)(N.a.Control,{value:e,onInput:function(e){return t((c=e.target.value,{type:v,payload:c}));var c},type:"text",placeholder:"Search Country",name:"searchCountry",style:{textAlign:"center",border:"none"}})})})}function F(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e})),c=t.currentDate,a=t.total;return Object(n.useEffect)((function(){e(w())}),[e]),Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(I.jsxs)(j.a,{className:"generalData",children:[Object(I.jsxs)("h5",{"data-testid":"currentDate",children:["Statistics for date: ",_(c)]}),Object(I.jsxs)("h5",{"data-testid":"confirmedCases",children:["Total Confirmed Cases: ",a.today_confirmed]}),Object(I.jsxs)("h5",{"data-testid":"totalDeaths",children:["Total Deaths: ",a.today_deaths]}),Object(I.jsxs)("h5",{"data-testid":"totalRecoveries",children:["Total Recovered: ",a.today_recovered]})]}),Object(I.jsxs)(j.a,{fluid:!0,className:"filterSection",children:[Object(I.jsx)("h5",{style:{textAlign:"center"},children:"Filters"}),Object(I.jsx)(A,{})]})]}),Object(I.jsx)(O.a,{maxDate:new Date,value:c,className:"datePicker",onChange:function(t){e(w(_(t)))}}),Object(I.jsx)(j.a,{fluid:!0,className:"listContainer",style:{display:"grid",gridTemplateColumns:"auto auto",justifyItems:"center",justifyContent:"center",padding:0,backgroundColor:"var(--main-color)"},children:Object(I.jsx)(B,{})})]})}F.defaultProps={total:{}};var G=c(112);function L(){var e=Object(u.g)().countryId,t=Object(s.b)(),c=Object(s.c)((function(e){return e.countryData}));return Object(n.useEffect)((function(){t(function(e){return{type:p,payload:e}}(e))}),[t,e]),Object(I.jsxs)(j.a,{style:{padding:0},children:[Object(I.jsx)("h1",{style:{backgroundColor:"var(--main-color)",color:"white"},children:c.name}),Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Item,{children:["Source: ",c.source]}),Object(I.jsxs)(G.a.Item,{children:["Date: ",c.date]}),Object(I.jsxs)(G.a.Item,{children:["Confirmed Today: ",c.today_confirmed]}),Object(I.jsxs)(G.a.Item,{children:["Deaths Today: ",c.today_deaths]}),Object(I.jsxs)(G.a.Item,{children:["Recovered Today: ",c.today_recovered]})]})]},e)}var R=function(){var e=Object(s.c)((function(e){return e})).backButton,t=Object(s.b)(),c=Object(u.f)(),n={display:"none"};return n.display=e?"block":"none",Object(I.jsxs)(i.a,{className:"navbar",variant:"dark",children:[Object(I.jsx)(d.a,{style:n,className:"navbar-brand",size:40,onClick:function(){c(-1),t(k(k()))}}),Object(I.jsx)(i.a.Brand,{children:"Covid-19 Tracker"})]})},Q=function(){return Object(I.jsx)("main",{children:Object(I.jsxs)(l.a,{children:[Object(I.jsx)(R,{}),Object(I.jsxs)(u.c,{children:[Object(I.jsx)(u.a,{exact:!0,path:"/",element:Object(I.jsx)(F,{})}),Object(I.jsx)(u.a,{path:"/details/:countryId",element:Object(I.jsx)(L,{})})]})]})})},M=c(33),P=c(55),Y=c(53),U=c.n(Y),H=c(54),J=Object(M.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(f.a)(Object(f.a)({},e),t.payload);case p:return Object(f.a)(Object(f.a)({},e),{},{countryData:Object.values(Object.values(e.dates)[0].countries).find((function(e){return e.id===t.payload}))});case v:return Object(f.a)(Object(f.a)({},e),{},{searchQuery:t.payload});case m:return Object(f.a)(Object(f.a)({},e),{},{currentDate:new Date("".concat(t.payload," "))});case g:return Object(f.a)(Object(f.a)({},e),{},{backButton:!e.backButton});default:return e}}),Object(H.composeWithDevTools)(Object(M.applyMiddleware)(P.a,U.a))),z=J,K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,113)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(s.a,{store:z,children:Object(I.jsx)(Q,{})})}),document.getElementById("root")),K()},89:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.34535ffe.chunk.js.map