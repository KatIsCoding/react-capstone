(this["webpackJsonpreact-redux-setup"]=this["webpackJsonpreact-redux-setup"]||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);a(57),a(58);var n=a(0),c=a.n(n),r=a(14),o=a.n(r),s=a(11),i=(a(89),a(42)),d=a(56),u=a(8),l=a(27),j=a(110),b=a(48),O=a.n(b),h=a(30),f=a(3),x=a(9),y="redux/actions/GET_CASES",v="redux/actions/GET_COUNTRY_DATA",p="redux/actions/SET_SEARCH_QUERY",m="redux/actions/CHANGE_DATE",g="redux/actions/TOGGLE_BACK_BUTTON",C=new Date,D=function(e,t){return String(e).padStart(t,"0")},T="".concat(C.getFullYear(),"-").concat(D(C.getMonth()+1,2),"-").concat(D(C.getDate(),2)),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return"".concat(e.getFullYear(),"-").concat(D(e.getMonth()+1,2),"-").concat(D(e.getDate(),2))},S=function(){return{type:g}},k=function(e){return{type:m,payload:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return function(t){return fetch("https://api.covid19tracking.narrativa.com/api/".concat(e)).then((function(e){return e.json()})).then((function(a){return t(k(e)),t({type:y,payload:a})}))}},E={dates:{},total:{},countryData:{dates:Object(x.a)({},T,{countries:{name:"",source:"",today_confirmed:0,today_deaths:0,today_recovered:0}})},searchQuery:"",currentDate:new Date,backButton:!1},I=a(2);function B(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e}));return function(e,t){if(!Object.keys(e).length||!e)return[];var a=Object.values(Object.values(Object.values(e)[0])[0]);return t&&""!==t?a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):a}(t.dates,t.searchQuery).map((function(t){var a=t;return Object(I.jsx)(l.b,{to:"details/".concat(a.id),onClick:function(){return e(S())},className:"dataList","data-testid":"data-item",children:Object(I.jsx)(h.a,{style:{height:"124px",width:"187px"},children:Object(I.jsxs)(h.a.Body,{children:[Object(I.jsx)(h.a.Title,{children:a.name}),Object(I.jsxs)(h.a.Subtitle,{children:["Confirmed Today:",a.today_confirmed]})]})})},a.id)}))}var N=a(111);function A(){var e=Object(s.c)((function(e){return e})).searchQuery,t=Object(s.b)();return Object(I.jsx)(N.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)(N.a.Group,{controlId:"formSearchCountry",children:Object(I.jsx)(N.a.Control,{value:e,onInput:function(e){return t((a=e.target.value,{type:p,payload:a}));var a},type:"text",placeholder:"Search Country",name:"searchCountry",style:{textAlign:"center",border:"none"}})})})}var F=!1;function G(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e})),a=t.currentDate,c=t.total;return Object(n.useEffect)((function(){F||(e(w()),F=!0)}),[e]),Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(I.jsxs)(j.a,{className:"generalData",children:[Object(I.jsxs)("h5",{"data-testid":"currentDate",children:["Statistics for date:"," ",_(a)]}),Object(I.jsxs)("h5",{"data-testid":"confirmedCases",children:["Total Confirmed Cases:"," ",c.today_confirmed]}),Object(I.jsxs)("h5",{"data-testid":"totalDeaths",children:["Total Deaths:"," ",c.today_deaths]}),Object(I.jsxs)("h5",{"data-testid":"totalRecoveries",children:["Total Recovered:"," ",c.today_recovered]})]}),Object(I.jsxs)(j.a,{fluid:!0,className:"filterSection",children:[Object(I.jsx)("h5",{style:{textAlign:"center"},children:"Filters"}),Object(I.jsx)(A,{})]})]}),Object(I.jsx)(O.a,{maxDate:new Date,value:a,className:"datePicker",onChange:function(t){e(w(_(new Date(t.toString()))))}}),Object(I.jsx)(j.a,{fluid:!0,className:"listContainer",style:{display:"grid",gridTemplateColumns:"auto auto",justifyItems:"center",justifyContent:"center",padding:0,backgroundColor:"var(--main-color)"},children:Object(I.jsx)(B,{})})]})}G.defaultProps={total:{}};var L=a(112);function R(){var e=Object(u.g)().countryId,t=Object(s.b)(),a=Object(s.c)((function(e){return e.countryData}));return Object(n.useEffect)((function(){t(function(e){return{type:v,payload:e}}(e))}),[t,e]),Object(I.jsxs)(j.a,{style:{padding:0},children:[Object(I.jsx)("h1",{style:{backgroundColor:"var(--main-color)",color:"white"},children:a.name}),Object(I.jsxs)(L.a,{children:[Object(I.jsxs)(L.a.Item,{"data-testid":"source",children:["Source:",a.source]}),Object(I.jsxs)(L.a.Item,{"data-testid":"date",children:["Date:",a.date]}),Object(I.jsxs)(L.a.Item,{"data-testid":"confirmed",children:["Confirmed Today:",a.today_confirmed]}),Object(I.jsxs)(L.a.Item,{"data-testid":"deaths",children:["Deaths Today:",a.today_deaths]}),Object(I.jsxs)(L.a.Item,{"data-testid":"recovered",children:["Recovered Today:",a.today_recovered]})]})]},e)}var Q=function(){var e=Object(s.c)((function(e){return e})).backButton,t=Object(s.b)(),a=Object(u.f)(),n={display:"none"};return n.display=e?"block":"none",Object(I.jsxs)(i.a,{className:"navbar",variant:"dark",children:[Object(I.jsx)(d.a,{style:n,className:"navbar-brand",size:40,onClick:function(){a(-1),t(S(S()))}}),Object(I.jsx)(i.a.Brand,{children:"Covid-19 Tracker"})]})},M=function(){return Object(I.jsx)("main",{children:Object(I.jsxs)(l.a,{basename:"/react-capstone",children:[Object(I.jsx)(Q,{}),Object(I.jsxs)(u.c,{children:[Object(I.jsx)(u.a,{exact:!0,path:"/",element:Object(I.jsx)(G,{})}),Object(I.jsx)(u.a,{path:"/details/:countryId",element:Object(I.jsx)(R,{})})]})]})})},P=a(33),Y=a(55),U=a(53),H=a.n(U),J=a(54),z=Object(P.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(f.a)(Object(f.a)({},e),t.payload);case v:return Object(f.a)(Object(f.a)({},e),{},{countryData:Object.values(Object.values(e.dates)[0].countries).find((function(e){return e.id===t.payload}))});case p:return Object(f.a)(Object(f.a)({},e),{},{searchQuery:t.payload});case m:return Object(f.a)(Object(f.a)({},e),{},{currentDate:new Date("".concat(t.payload," "))});case g:return Object(f.a)(Object(f.a)({},e),{},{backButton:!e.backButton});default:return e}}),Object(J.composeWithDevTools)(Object(P.applyMiddleware)(Y.a,H.a))),K=z,W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,113)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(s.a,{store:K,children:Object(I.jsx)(M,{})})}),document.getElementById("root")),W()},89:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.2f39f055.chunk.js.map